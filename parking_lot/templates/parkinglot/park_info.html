{% extends "parkinglot/layout.html" %}
{% load static %}
{% block body %}
<!DOCTYPE html>
<html>
<head>
    <title>Car Park</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"></script>
    <style type="text/css">
        html {
          height: 100%;
        }
        body {
          margin: 0px;
          height: 100%;
        }
        #map {
          height: 50%;
          width: 50%;
        }
    </style>

    
    
    
</head>

<body onload="init();">
    <h1>{{name}}</h1>
    {% for i in slot %}
        <li>{{i.name}} --> status = {{i.status}} // customer name: {{i.customer}} (tel = {{i.customer.tel}})</li>
    {% endfor %}
    {% for x in customer %}
        <li>customer = {{ x.name }} parking at ... tel {{ x.tel }}</li>
    {% endfor %}
    {{x}}

    <br>
    <div id="map"></div>
    <div><p hidden id = "lon">{{lon}}</p></div>
    <div><p hidden id = "lat">{{lat}}</p></div>

  
    
    <script>    
        var map;
        var m_lat = document.getElementById("lat").innerHTML;
        var m_lon = document.getElementById("lon").innerHTML;
        console.log(m_lat)
        var marker = new longdo.Marker({ lon: m_lon, lat: m_lat });
        function init() {
            map = new longdo.Map({
                placeholder: document.getElementById('map')
            });
            map.Overlays.add(marker);
        }
        
    </script>
</body>


</html>
{% endblock %}